{"title":"emqx","description":null,"widgets":[{"id":6926066852348632,"definition":{"title":"EMQX","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[]},"layout":{"x":0,"y":0,"width":12,"height":1}},{"id":8775764009775376,"definition":{"title":"Active Connections","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.connections.count{*}","aggregator":"last"}],"response_format":"scalar","conditional_formats":[{"comparator":">","value":0,"palette":"white_on_green"}]}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"type":"area","yaxis":{"include_zero":true}}},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":7907186936481438,"definition":{"title":"Active Topics","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"max:emqx.topics.count{*}","aggregator":"last"}],"response_format":"scalar","conditional_formats":[{"comparator":">","value":0,"palette":"white_on_yellow"}]}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"yaxis":{"include_zero":true},"type":"area"}},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":5755844764213238,"definition":{"title":"Active Subscriptions","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.suboptions.count{*}","aggregator":"last"}],"response_format":"scalar","conditional_formats":[{"comparator":">","value":0,"palette":"black_on_light_red"}]}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"yaxis":{"include_zero":true},"type":"area"}},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":4921491767856188,"definition":{"title":"Connections","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.connections.count{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":2,"width":4,"height":3}},{"id":5726840784916866,"definition":{"title":"Topics","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:emqx.topics.count{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":4,"y":2,"width":4,"height":3}},{"id":6800421833882370,"definition":{"title":"Subscriptions","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.suboptions.count{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":2,"width":4,"height":3}},{"id":4116503250210894,"definition":{"title":"Messages","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"per_second(query1)"},{"formula":"per_second(query2)"},{"formula":"per_second(query3)"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.messages.received.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.messages.sent.count{*}.as_rate()"},{"data_source":"metrics","name":"query3","query":"sum:emqx.messages.dropped.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":5,"width":6,"height":3}},{"id":4730835308857248,"definition":{"title":"Messages Sent Total","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.messages.sent.count{*}.as_count()","aggregator":"sum"}],"response_format":"scalar"}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":6,"y":5,"width":3,"height":3}},{"id":1554933749897338,"definition":{"title":"Messages Received Total","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.messages.received.count{*}.as_count()","aggregator":"sum"}],"response_format":"scalar"}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":9,"y":5,"width":3,"height":3}},{"id":3184666931438416,"definition":{"title":"Retained Messages","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.retained.count{*}","aggregator":"max"}],"response_format":"scalar"}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":0,"y":8,"width":3,"height":3}},{"id":5484632032070434,"definition":{"title":"Messages Dropped Total","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.messages.dropped.count{*}.as_count()","aggregator":"sum"}],"response_format":"scalar"}],"autoscale":true,"text_align":"left","precision":0,"timeseries_background":{"yaxis":{"include_zero":false},"type":"area"}},"layout":{"x":3,"y":8,"width":3,"height":3}},{"id":8617706146144488,"definition":{"title":"Traffic Statistics","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"vertical","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"per_second(query1)"},{"formula":"per_second(query2)"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.bytes.received.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.bytes.sent.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":8,"width":6,"height":3}},{"id":2068388474984832,"definition":{"title":"CPU Cores","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:system.cpu.num_cores{*}","aggregator":"last"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":0},"layout":{"x":0,"y":11,"width":2,"height":2}},{"id":196322541008792,"definition":{"title":"RAM Total","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:system.mem.total{*}","aggregator":"last"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":0},"layout":{"x":2,"y":11,"width":2,"height":2}},{"id":4101200333766194,"definition":{"title":"Disk Total","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:system.disk.total{*}","aggregator":"last"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":0},"layout":{"x":4,"y":11,"width":2,"height":2}},{"id":2432176578615962,"definition":{"title":"Uptime","title_size":"16","title_align":"left","type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:system.uptime{*}","aggregator":"last"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":0},"layout":{"x":6,"y":11,"width":2,"height":2}},{"id":401989419762238,"definition":{"title":"Nodes status","title_size":"16","title_align":"left","requests":[{"response_format":"scalar","formulas":[{"formula":"query1","limit":{"count":500,"order":"desc"}}],"queries":[{"data_source":"metrics","name":"query1","query":"min:emqx.cluster.nodes_running{*}","aggregator":"last"},{"data_source":"metrics","name":"query2","query":"min:emqx.cluster.nodes_stopped{*}","aggregator":"last"}],"style":{"palette":"datadog16"}}],"type":"sunburst","legend":{"type":"automatic"}},"layout":{"x":8,"y":11,"width":4,"height":4}},{"id":8766125847818152,"definition":{"title":"CPU Usage","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"},{"formula":"query3"},{"formula":"query4"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:system.cpu.idle{*}"},{"data_source":"metrics","name":"query2","query":"avg:system.cpu.user{*}"},{"data_source":"metrics","name":"query3","query":"avg:system.cpu.interrupt{*}"},{"data_source":"metrics","name":"query4","query":"avg:system.cpu.system{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[]},"layout":{"x":0,"y":13,"width":4,"height":2}},{"id":5118840893046012,"definition":{"title":"Erlang VM Memory Used","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.vm.used_memory{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[]},"layout":{"x":4,"y":13,"width":4,"height":2}},{"id":3258928244810856,"definition":{"title":"Mria(BuiltInDataBase) Status","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"}],"queries":[{"data_source":"metrics","name":"query1","query":"avg:emqx.mria.last_intercepted_trans{*}"},{"data_source":"metrics","name":"query2","query":"avg:emqx.mria.server.mql{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":15,"width":4,"height":2}},{"id":5628123544880934,"definition":{"title":"MessageInQueues","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.vm.process.messages_in_queues{*}"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":4,"y":15,"width":4,"height":2}},{"id":8442656113728788,"definition":{"title":"Delayed Messages","title_size":"16","title_align":"left","time":{},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:emqx.delayed.count{*}","aggregator":"last"}],"formulas":[{"formula":"query1"}]}],"autoscale":true,"precision":0},"layout":{"x":8,"y":15,"width":4,"height":2}},{"id":2860554220821674,"definition":{"title":"Connect Packets","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"},{"formula":"query3"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.packets.connect.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.packets.connack.sent.count{*}.as_rate()"},{"data_source":"metrics","name":"query3","query":"sum:emqx.packets.connack.error.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":17,"width":6,"height":3}},{"id":5762167200110272,"definition":{"title":"Connect Packets","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"},{"formula":"query3"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.packets.connect.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.packets.connack.sent.count{*}.as_rate()"},{"data_source":"metrics","name":"query3","query":"sum:emqx.packets.connack.error.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":17,"width":6,"height":3}},{"id":8957776368672518,"definition":{"title":"Publish Packets","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"},{"formula":"query3"},{"formula":"query4"},{"formula":"query5"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.packets.publish.received.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.packets.publish.sent.count{*}.as_rate()"},{"data_source":"metrics","name":"query3","query":"sum:emqx.packets.publish.dropped.count{*}.as_rate()"},{"data_source":"metrics","name":"query4","query":"sum:emqx.packets.publish.error.count{*}.as_rate()"},{"data_source":"metrics","name":"query5","query":"sum:emqx.packets.puback.inuse.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":20,"width":6,"height":3}},{"id":6466172691344548,"definition":{"title":"Subscribe Packets","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"},{"formula":"query3"},{"formula":"query4"},{"formula":"query5"}],"queries":[{"data_source":"metrics","name":"query1","query":"sum:emqx.packets.subscribe.received.count{*}.as_rate()"},{"data_source":"metrics","name":"query2","query":"sum:emqx.packets.suback.sent.count{*}.as_rate()"},{"data_source":"metrics","name":"query3","query":"sum:emqx.packets.subscribe.error.count{*}.as_rate()"},{"data_source":"metrics","name":"query4","query":"sum:emqx.packets.unsubscribe.received.count{*}.as_rate()"},{"data_source":"metrics","name":"query5","query":"sum:emqx.packets.unsubscribe.error.count{*}.as_rate()"}],"response_format":"timeseries","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":6,"y":20,"width":6,"height":3}}],"template_variables":[],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}